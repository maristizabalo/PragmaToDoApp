<ion-list class="tasks-list">
    <ion-item *ngFor="let task of tasks; trackBy: trackByTaskId" lines="none" class="task-item">
        <ion-checkbox slot="start" [checked]="task.completed" (ionChange)="onToggle(task)"></ion-checkbox>

        <ion-label>
            <h2 [class.task-completed]="task.completed">{{ task.title }}</h2>

            <ng-container *ngIf="getCategoryForTask(task) as cat">
                <p class="task-category">
                    <ion-chip size="small" [style.--background]="cat.color || null">
                        <ion-label>{{ cat.name }}</ion-label>
                    </ion-chip>
                </p>
            </ng-container>
        </ion-label>

        <ion-button fill="clear" color="medium" slot="end" (click)="onDelete(task)">
            <ion-icon slot="icon-only" name="trash-outline"></ion-icon>
        </ion-button>
    </ion-item>

    <ion-item *ngIf="!hasTasks" lines="none" class="task-empty">
        <ion-label color="medium">
            No tienes tareas aún. Crea la primera con el botón +
        </ion-label>
    </ion-item>
</ion-list>